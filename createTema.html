<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta name="ROBOTS" content="INDEX, FOLLOW">
  <meta name="keywords" content="">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme-color" content="#000000">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <link
    href="https://fonts.googleapis.com/css?family=Droid+Sans|Droid+Serif|Lato|Lobster|Open+Sans|Oswald|PT+Sans|Raleway|Source+Sans+Pro|Ubuntu|Roboto"
    rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/3.5.2/select2.min.css" rel="stylesheet" />
  <link href="./style.css" rel="stylesheet" />
</head>


<body style="margin: 0 auto; padding: 30px;">

  <div
  style="padding: 50px 30px; margin: 0 auto; border-radius: 5px; max-width: 800px; min-width: 320px; width: 100%;"
  id="rd-form-joq3m2m5" class="bricks--component bricks-form rd-form">
  <nav class="nav nav-pills nav-justified" style="font-family: Arial, Helvetica, sans-serif; max-width: 800px; width: 100%; min-width: 320px; margin: 0 auto; background-color:#c3e7e4; ; border-radius: 15px; ">
    <a class="nav-item nav-link" href="./index.html">Início</a>
    <a class="nav-item nav-link" href="./createPatrocinador.html">Cadastrar Patrocinador</a>
    <a class="nav-item nav-link active" style="Background-color: #3099df;" href="#">Cadastrar Tema</a>
    <a class="nav-item nav-link"  href="./createPecas.html">Cadastrar Peça</a>

  </nav>

</div>

<div bgcolor="#3099df" align="center"
style="padding: 50px 30px; margin: 0 auto; border-radius: 15px; max-width: 740px; min-width: 320px; width: 100%;background-color: #3099df;"
id="rd-form-joq3m2m5" class="bricks--component bricks-form rd-form">


    <b>
      <h2
        style="font-weight: 1000; font-size: 34px; font-family: Arial, Helvetica, sans-serif; padding-bottom: 20px; color:#ffffff;">
        Tema</h2>
    </b>
    <br>
    <br>

    <form id="form" action="./createFicha.html" data-typed-fields="1" data-lang="pt-BR">

      <div class="bricks-form__fieldset" data-progressive-profiling="">


        <div class="bricks-form__field">
          <input id="rd-text_field-kfzdhxoh" class="bricks-form__input required js-text js-field-name" name="name"
            type="text" data-use-type="STRING" placeholder="Nome *" required="required">
        </div>

        <div class="bricks-form__field">

          <input id="rd-url_field-kfzdhxoi" class="bricks-form__input required js-url js-field-url" name="Imagem"
            type="url" data-use-type=" " placeholder="Imagem *" required="required">
        </div>

        <div class="bricks-form__field">
          <select class="bricks-form__input required js-url js-field-url" id="patrocinador" name="cf_patrocinador" type="text" data-use-type="STRING"
            required="required" form="form">
            <option value="" disabled selected>Selecione o Patrocinador:</option>
          </select>
        </div>

      </div>

      <table width="100%">
        <tr>
          <td>
            <div class="bricks-form__submit">
              <a href="" class="bricks--component bricks--component-button rd-button" id="rd-button-joq3m2m8">
                Cancelar
              </a>
            </div>
          </td>
          <td>
            <div class="bricks-form__submit">
              <style type="text/css" rel="stylesheet">

              </style>
              <button type="submit" class="bricks--component bricks--component-button rd-button"
                id="rd-button-joq3m2m7">
                Continuar
              </button>
            </div>
          </td>
        </tr>
      </table>

  </div>
  </form>
  </div>

  <div>
    <button onclick="myFunction()">Try it</button>
  </div>

  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <script type="text/javascript"
    src="https://d335luupugsy2.cloudfront.net/js/jquery.validate/1.9/jquery.validate.min.js"></script>
  <script type="text/javascript" src="https://d335luupugsy2.cloudfront.net/js/jquery.form/2.02/jquery.form.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/select2/3.5.2/select2.min.js"></script>
  <script type="text/javascript"
    src="https://d335luupugsy2.cloudfront.net/js/lead-tracking/stable/plugins/jquery.cookie.v1.4.1.min.js"></script>
  <script type="text/javascript"
    src="https://d335luupugsy2.cloudfront.net/js/lead-tracking/stable/plugins/math.uuid.v1.4.min.js"></script>
  <script type="text/javascript"
    src="https://d335luupugsy2.cloudfront.net/js/rd/stable/rdlps.min.js?t=1603911702"></script>
  <script type="text/javascript"
    src="https://d335luupugsy2.cloudfront.net/js/rd/stable/rdlps-progressive-profiling.min.js?t=1603911702"></script>
  <script type="text/javascript"
    src="https://d335luupugsy2.cloudfront.net/js/rd/stable/rdlps-autofill.min.js?t=1603911702"></script>
  <script>
    $('.js-field-personal_phone').mask('(00) 00000-0000');
  </script>

  <script type="text/javascript"
    src="https://d335luupugsy2.cloudfront.net/js/loader-scripts/b745a3dc-d447-4c97-b6e8-5f6d616cd5e4-loader.js">
  </script>

<script>
  const xhttp = new XMLHttpRequest();
  xhttp.open("GET", "https://www.mecallapi.com/api/users");
  xhttp.send();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      console.log(this.responseText);
      var trHTML = ''; 
      const objects = JSON.parse(this.responseText);
      for (let object of objects) {
        const option = new Option(object['fname'], object['id']);
        const element = document.querySelector("#patrocinador");
        element.add(option, undefined)
      }
    }
  };

  function myFunction() {
    var e = document.getElementById("patrocinador");
    var result = e.options[e.selectedIndex].value;
    const fname = document.getElementById("rd-text_field-kfzdhxoh").value;
    const lname = result;
    const username = "username";
    const email = "email";
      
    const xhttp2 = new XMLHttpRequest();
    xhttp2.open("POST", "https://www.mecallapi.com/api/users/create");
    xhttp2.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
    xhttp2.send(JSON.stringify({ 
      "fname": fname, "lname": lname, "username": username, "email": email, 
      "avatar": document.getElementById("rd-url_field-kfzdhxoi").value
    }));
    xhttp2.onreadystatechange = function() {
      if (this.readyState == 4 && this.status == 200) {
        const objects = JSON.parse(this.responseText);
        Swal.fire(objects['message']);
      }
    };
  }
</script>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.16/dist/sweetalert2.all.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>


  <style type="text/css" rel="stylesheet">
    #rd-text-kfzdncas {
      border-bottom-style: none;
      border-color: #000000;
      border-left-style: none;
      border-radius: 0px;
      border-right-style: none;
      border-top-style: none;
      border-width: 1px;
      min-height: 0px;
      max-width: 200px;
      margin-top: 10px;
      margin-bottom: 10px;
      align-self: center;
      width: 100%;
      word-break: break-word;
    }
  </style>

  </div>

  </div>
  </div>

  </div>

  </section>

</body>
